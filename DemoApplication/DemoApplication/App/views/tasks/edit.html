<div class="row-fluid">
    <div class="span8">
        <label>Name:</label>
        <input class="input-xxlarge" type="text" data-ng-model="task.name" />
        <label>Description:</label>
        <textarea class="input-xxlarge" data-ng-model="task.description" rows="4"></textarea>
    </div>
    <div class="span4">
        <button class="btn" data-ng-click="cancel()">Cancel</button>
        <button class="btn btn-success" data-ng-click="save()">Save</button>
    </div>
</div>
<div class="row-fluid">
    <div class="span4">
        <label>Category:</label>
        <select data-ng-model="task.categoryId" data-ng-options="c.id as c.name for c in categories">
            <option value="">-- Choose Category --</option>
        </select>
    </div>
    <div class="span4" data-ng-switch="" data-on="!isNew && isFromEmployee">
        <div data-ng-switch-when="false">
            <label>Due Date Logic:</label>
            <div>
                <div class="dropdown btn-group">
                    <button class="dropdown-toggle btn" data-toggle="dropdown">
                        <i class="icon-calendar"></i>
                        Set Due Date Logic
                   
                    </button>
                    <ul class="dropdown-menu" data-due-date-logic="" data-task="task" data-milestones="milestones"></ul>
                </div>
                <span class="badge badge-success" data-ng-show="isDueDateChosen()">{{task.milestoneValue}} 
                    {{intervals[task.interval]}} 
                    {{task.isBefore && 'Before' || 'After'}} 
                    {{milestone.name}}
                </span>
            </div>
            <label class="checkbox" data-ng-show="milestone && milestone.interval && milestone.value">
                <input type="checkbox" data-ng-model="task.recurring" />
                Reccuring
            </label>
        </div>
        <span data-ng-switch-when="true">
            <label>Due Date:</label>
            <a class="btn" data-b-datepicker="" data-ng-model="task.dueDate">
                <i class="icon-calendar"></i>
                Set Due Date
            </a>
            <span class="badge badge-success">{{task.dueDate | date:'dd MMMM yyyy'}}</span>
        </span>
    </div>
    <div class="span4">
        <label class="checkbox">
            <input type="checkbox" data-ng-model="task.requiresSignature" />
            Requires Signature
        </label>
        <label class="checkbox">
            <input type="checkbox" data-ng-model="task.requiresDownload" />
            Requires Download
        </label>
        <label class="checkbox">
            <input type="checkbox" data-ng-model="task.requiresUpload" />
            Requires Upload
        </label>
    </div>
</div>
<div class="row-fluid">
    <div class="span4">
        <label>Principal:</label>
        <span data-assign-principal="" data-default-id="{{employeeId}}" data-task="task" data-assignables="assignables" data-css="btn"></span>
        <label class="checkbox">
            <input type="checkbox" data-ng-model="hasApprover" />
            Has Approver
        </label>
    </div>
    <div class="span4" data-ng-show="hasApprover">
        <label>Approver:</label>
        <span data-assign-approver="" data-task="task" data-assignables="assignables" data-css="btn"></span>
    </div>
</div>

<div data-ng-show="task.requiresDownload" class="row-fluid fileupload-buttonbar" data-fileupload="options" data-ng-class="{true: 'fileupload-processing'}[!!processing() || loadingFiles]">
    <div class="span7">
        <span class="btn btn-success fileinput-button">
            <i class="icon-plus icon-white"></i>
            <span>Add files...</span>
            <input type="file" name="files[]" multiple />
        </span>
        <button type="button" class="btn btn-primary start" data-ng-click="submit()">
            <i class="icon-upload icon-white"></i>
            <span>Start upload</span>
        </button>
        <button type="button" class="btn btn-warning cancel" data-ng-click="cancel()">
            <i class="icon-ban-circle icon-white"></i>
            <span>Cancel upload</span>
        </button>
    </div>
    <div class="span5 fade" data-ng-class="{true: 'in'}[!!active()]">
        <div class="progress progress-success progress-striped active" data-progress="progress()">
            <div class="bar" data-ng-style="{width: num + '%'}"></div>
        </div>
        <div class="progress-extended">&nbsp;</div>
    </div>
</div>

<table data-ng-show="task.requiresDownload" class="table table-striped files">
    <tr data-ng-repeat="file in queue">
        <td>
            <p class="name" data-ng-switch="" data-on="!!file.url">
                <a data-ng-switch-when="true" data-ng-href="{{file.url}}" title="{{file.name}}" data-download="{{file.name}}">{{file.name}}</a>
                <span data-ng-switch-default="">{{file.name}}</span>
            </p>
            <div data-ng-show="file.error"><span class="label label-important">Error</span> {{file.error}}</div>
        </td>
        <td>
            <p class="size">{{file.size | formatFileSize}}</p>
        </td>
        <td>
            <div class="progress progress-success progress-striped active fade" data-ng-class="{pending: 'in'}[file.$state()]" data-progress="file.$progress()">
                <div class="bar" data-ng-style="{width: num + '%'}"></div>
            </div>
        </td>
        <td>
            <button type="button" class="btn btn-warning cancel" data-ng-click="file.$cancel()" data-ng-hide="!file.$cancel">
                <i class="icon-ban-circle icon-white"></i>
                <span>Cancel</span>
            </button>
            <button type="button" class="btn btn-warning destroy" data-ng-click="deleteFile(file)" data-ng-hide="!file.url">
                <i class="icon-ban-circle icon-white"></i>
                <span>Delete</span>
            </button>
        </td>
    </tr>
</table>
