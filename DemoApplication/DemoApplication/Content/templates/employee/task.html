<li class="task" data-ng-class="{'completed':task.status==3, 'muted':task.status==2}">
    <div>
        <i data-ng-class="{'icon-edit':task.status==1, 'icon-share':task.status==2, 'icon-check':task.status==3}"></i>
        <span data-ng-switch="" data-on="task.name">
            <span class="dropdown" data-ng-switch-when="null">
                <a class="dropdown-toggle muted" data-toggle="dropdown">Click to Add a Task</a>
                <ul class="dropdown-menu">
                    <li data-complex-menu="">
                        <div>
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-search"></i></span>
                                <input type="text" placeholder="Filter..." data-ng-model="query" />
                            </div>
                        </div>
                    </li>
                    <li data-ng-repeat="task in available | taskInCategoryFilter:task.categoryId | orderBy:'name' | searchFilter:'name':query">
                        <a data-ng-click="setTask(task)">{{ task.name }}
                            <i class="icon-tag" data-ng-show="task.prebuilt"></i>
                        </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="#/tasks/edit/?employeeId={{employeeId}}&categoryId={{task.categoryId}}">Create a Custom Task</a>
                    </li>
                </ul>
            </span>
            <span data-ng-switch-default="">
                <span data-ng-switch="" data-on="newCreated">
                    <span data-ng-switch-when="true">{{task.name}}</span>
                    <a data-ng-switch-default="" data-ng-click="details()">{{task.name}}</a>
                </span>
            </span>
        </span>
        | <i class="icon-user"></i>
        <span data-assign-principal="" data-default-id="{{employeeId}}" data-task="task" data-assignables="assignables"></span>
        <span data-ng-show="task.approverId">| Approver:
            <span data-assign-approver="" data-task="task" data-assignables="assignables"></span>
        </span>
        | <i class="icon-calendar"></i>
        <span data-ng-switch="" data-on="task.status > 1">
            <span data-ng-switch-when="true">{{task.dueDate | date:'MM/dd/yy'}}</span>
            <span data-ng-switch-default="">
                <a data-ng-switch="" data-on="task.dueDate" data-b-datepicker="" data-ng-model="task.dueDate">
                    <span data-ng-switch-when="null" class="muted">Set Due Date</span>
                    <span data-ng-switch-default="">{{task.dueDate | date:'MM/dd/yy'}}</span>
                </a>
                <span data-ng-show="task.dueDate != null">| <span data-task-badge="" data-task="task"></span>
                </span>
                <span class="edit-controls" data-ng-hide="newCreated">
                    <button class="btn btn-mini" data-ng-click="deleteTask()"><i class="icon-trash"></i></button>
                    <a href="#/tasks/edit/?assignmentId={{task.id}}" class="btn btn-mini">Edit</a>
                </span>
            </span>
        </span>
    </div>
    <div data-ng-show="newCreated">
        <button class="btn btn-small btn-success" data-ng-disabled="isNew()" data-ng-click="saveTask()">Save this task</button>
        <button class="btn btn-small btn-link" data-ng-click="deleteTask()">Cancel</button>
    </div>
</li>
