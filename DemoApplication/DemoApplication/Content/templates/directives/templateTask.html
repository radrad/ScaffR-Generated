<li class="task">
    <div>
        <input class="task-checkbox" type="checkbox" disabled="disabled" />
        <span data-ng-switch="" data-on="task.name">
            <span class="dropdown" data-ng-switch-when="null">
                <a class="dropdown-toggle muted" data-toggle="dropdown">Click to Add a Task</a>
                <ul class="dropdown-menu">
                    <li data-complex-menu="">
                        <div>
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-search"></i></span>
                                <input type="text" placeholder="Filter..." data-ng-model="query" />
                            </div>
                        </div>
                    </li>
                    <li data-ng-repeat="task in available | taskInCategoryFilter:task.categoryId | orderBy:'name' | searchFilter:'name':query">
                        <a data-ng-click="assignment.selectedOption=task.name">{{ task.name }}
                            <i class="icon-tag" data-ng-show="task.prebuilt"></i>
                        </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a data-ng-click="editMode()">Create a Custom Task</a>
                    </li>
                </ul>
            </span>
            <span data-ng-switch-default="">{{task.name}}</span>
        </span>
        | <i class="icon-user"></i>
        <span class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" data-ng-switch="" data-on="task.principalId">
                <span data-ng-switch-when="null" class="muted">Assign This Task</span>
                <span data-ng-switch-default="">{{principal.name}}</span>
            </a>
            <ul class="dropdown-menu">
                <li data-complex-menu="">
                    <div>
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-search"></i></span>
                            <input type="text" placeholder="Filter..." data-ng-model="query" />
                        </div>
                    </div>
                </li>
                <li>
                    <ul class="collapsible" data-title="{{team.name}}" data-ng-repeat="team in assignables | conditional:'isTeam':true">
                        <li>
                            <label class="checkbox">
                                <input type="checkbox"
                                    data-ng-checked="principal.isTeam && principal.id==team.id"
                                    data-ng-click="assign(team.id,true)" />
                                (Assign to Team)
                            </label>
                        </li>
                        <li data-ng-repeat="member in assignables | conditional:'teamId':team.id | searchFilter:'name':query ">
                            <label class="checkbox">
                                <input type="checkbox"
                                    data-ng-click="assign(member.id,false)"
                                    data-ng-checked="(principal.isTeam && principal.id==team.id) || principal.id==member.id"
                                    data-ng-disabled="principal.isTeam && principal.id==team.id" />
                                {{ member.name }}
                            </label>
                        </li>
                    </ul>
                </li>
                <li class="divider"></li>
                <li>
                    <a data-ng-click="assign(undefined,false)">Assign to On-Boarding Employee</a>
                </li>
            </ul>
        </span>
        <span data-ng-show="isTeam">|
            <strong>resolution: </strong>
            <span class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" data-ng-switch="" data-on="resolveByAll">
                    <span data-ng-switch-when="null" class="muted">Choose</span>
                    <span data-ng-switch-default="">{{resolveByAll && 'by All' || 'by One'}}</span>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a data-ng-click="resolveByAll=false">One Team Member</a>
                    </li>
                    <li>
                        <a data-ng-click="resolveByAll=true">All Team Members</a>
                    </li>
                </ul>
            </span>
        </span>
        | <i class="icon-calendar"></i>
        <span class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" data-ng-switch="" data-on="isDueDateChosen()">
                <span data-ng-switch-when="false" class="muted">Choose Due Date Logic</span>
                <span data-ng-switch-default="">{{task.milestoneValue}} {{intervals[task.interval]}} {{task.isBefore && 'Before' || 'After'}} {{milestone}}</span>
            </a>
            <ul class="dropdown-menu" data-due-date-logic="" data-task="task" data-milestones="milestones"></ul>
        </span>
        <span class="edit-controls" data-ng-hide="newCreated">
            <button class="btn btn-mini" data-ng-click="deleteTask()"><i class="icon-trash"></i></button>
            <button class="btn btn-mini" data-ng-click="editMode()">Edit</button>
        </span>
    </div>
    <div data-ng-show="newCreated">
        <button class="btn btn-small btn-success" data-ng-disabled="isNew()" data-ng-click="saveTask()">Save this task</button>
        <button class="btn btn-small btn-link" data-ng-click="deleteTask()">Cancel</button>
    </div>
</li>
